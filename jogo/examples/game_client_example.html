<!doctype html>
<html>
<head>
  <meta charset="utf-8"/>
  <title>Exemplo de integração do Jogo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
</head>
<body>
  <h2>Seu jogo aqui</h2>
  <p>Este HTML demonstra como integrar o SDK dentro do seu jogo web.</p>

  <label>Nome: <input id="name" value="Jogador"/></label>
  <label>Time:
    <select id="team"><option value="attack">Ataque</option><option value="defense">Defesa</option></select>
  </label>
  <label>WS do servidor: <input id="wsurl" value="ws://localhost:3000"/></label>
  <button id="connect">Conectar</button>
  <button id="ready">Pronto</button>
  <button id="finish">Finalizar (envia score 123)</button>

  <pre id="out"></pre>

<script type="module">
import { GameClient } from 'http://localhost:3000/sdk.js'; // altere IP para o host real

const $ = (id)=>document.getElementById(id);
let gc = null;

$('connect').onclick = () => {
  const name = $('name').value;
  const team = $('team').value;
  const wsurl = $('wsurl').value;
  gc = new GameClient({ serverUrl: wsurl, name, team });
  gc.on('state', s => $('out').textContent = JSON.stringify(s, null, 2));
  gc.on('update', p => $('out').textContent = JSON.stringify(p, null, 2));
  gc.on('message', m => console.log('message', m));
};

$('ready').onclick = () => { if (gc) gc.ready(); };
$('finish').onclick = () => { if (gc) gc.finish(123); };
</script>
</body>
</html>
